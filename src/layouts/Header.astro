---
import MobileMenu from "@/components/Shared/MobileMenu";
import { DesctopMenu } from "@/components/Shared/DesctopMenu";
import Logo from "@assets/icons/Car1Logo.svg";
import { Phone, MapPin, ClockAlert } from "lucide-astro";
import { SocialLinks } from "@/components/Shared/SocialLinks";

const { links, data } = Astro.props;
---

<header
  class="w-[calc(100%_-1rem)] px-5 py-2 lg:py-2 flex items-center fixed top-2
  left-1/2 -translate-x-1/2 z-40 bg-gray-800/10
  transition-all duration-300 ease-in-out
  shadow-md rounded-xl [.scrolled_&]:bg-gray-800/90"
>
  <div class="flex w-full justify-between items-center">
    <div class="flex gap-10 items-center">
      <a href="/" aria-label="Car1.by"><Logo class="h-[32px]" /></a>
      <div class="hidden md:flex flex-col">
        <a
          href={`tel:${data.phone}`}
          class="text-sm text-white/80 font-semibold hover:text-denim-300 transition-color duration-300"
          >{data.phone}</a
        >
        <p class="text-xs text-white flex gap-2 items-center">
          <MapPin size="14" />{data.address}
        </p>
        <p class="text-xs text-white flex gap-2 items-center">
          <ClockAlert size="14" />{data.work_time}
        </p>
      </div>
      <SocialLinks {data} className="hidden md:flex" />
    </div>
    <DesctopMenu {links} client:load />
    <div class="flex gap-3 items-center md:hidden">
    <a href={`tel:${data.phone}`} aria-label="Телефон">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="28"
        height="28"
        viewBox="0 0 30 30"
        fill="none"
      >
        <rect width="30" height="30" rx="10" fill="white"></rect>
        <mask
          id="mask0_1_2231"
          maskUnits="userSpaceOnUse"
          x="6"
          y="6"
          width="18"
          height="19"
        >
          <path d="M24 6.5H6V24.5H24V6.5Z" fill="white"></path>
        </mask>
        <g mask="url(#mask0_1_2231)">
          <path
            d="M21.4989 18.8867C21.4221 18.8332 21.3429 18.7779 21.2686 18.7233C20.8748 18.434 20.4558 18.1673 20.0506 17.9094C19.9665 17.8559 19.8824 17.8024 19.7986 17.7487C19.2795 17.4158 18.8129 17.2541 18.372 17.2541C17.7782 17.2541 17.2606 17.5537 16.8333 18.1442C16.644 18.4061 16.4143 18.5334 16.1312 18.5334C15.9639 18.5334 15.7737 18.4898 15.566 18.4037C13.8907 17.7102 12.6943 16.6468 12.0103 15.2431C11.6796 14.5646 11.7868 14.1212 12.3688 13.7602C12.6993 13.5555 13.3145 13.1742 13.2709 12.4442C13.2215 11.6152 11.2178 9.12065 10.3736 8.83735C10.0162 8.71735 9.64058 8.71624 9.25534 8.83457C8.28477 9.13242 7.5883 9.65552 7.24101 10.3472C6.9054 11.0155 6.92055 11.8003 7.28485 12.6166C8.33795 14.9767 9.81854 17.0346 11.6857 18.7326C13.5132 20.3949 15.7595 21.7565 18.362 22.7795C18.5966 22.8717 18.8426 22.9219 19.0222 22.9586C19.0835 22.9712 19.1363 22.9819 19.1748 22.9915C19.196 22.9968 19.2178 22.9997 19.2397 22.9998L19.2604 22.9999C20.4844 22.9999 21.9542 21.9789 22.4056 20.8147C22.8011 19.7954 22.079 19.2915 21.4989 18.8867Z"
            stroke="black"></path>
        </g>
      </svg>
    </a>
    <MobileMenu {links} acf={data} client:load />
    </div>
  </div>
</header>
<script is:inline>
  const onScroll = () => {
    if (window?.scrollY > 0) {
      document?.documentElement.classList.add("scrolled");
    } else {
      document?.documentElement.classList.remove("scrolled");
    }
  };

  window?.addEventListener("scroll", onScroll);
  onScroll();
</script>
